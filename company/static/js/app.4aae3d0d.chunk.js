(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,r){"use strict";var n=r(138);r.d(t,"login",(function(){return n.a}));r(136),r(137)},136:function(e,t,r){"use strict"},137:function(e,t){},138:function(e,t,r){"use strict";var n=r(28),a=r.n(n),o=r(162),i=r(12),c=r.n(i),s=r(96);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){var t,r,n,o,i,c;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.url,r=e.method,n=void 0===r?"GET":r,o=e.headers,i=e.body,u.next=3,a.a.awrap(fetch(t,{method:n,headers:o,body:i}).then((function(e){return e.text()})).then((function(e){return e&&"Invalid password"!==e?JSON.parse(e):{error:"invalid_grant"}})).catch((function(e){return{error:"invalid_grant",error_description:e}})));case 3:if(!(c=u.sent).error||"Invalid token"!==c.error_description){u.next=7;break}return s.b.dispatch({type:"LOGGED_IN",payload:l({},{},{isLoggedIn:!1})}),u.abrupt("return",!1);case 7:return u.abrupt("return",c);case 8:case"end":return u.stop()}}))};r.d(t,"a",(function(){return g}));var g=function(e){var t,r;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.password,r=e.username,"https:///internal/session/login",n.next=4,a.a.awrap(d({url:"https:///internal/session/login",method:"POST",headers:{Authorization:"Basic "+o.Base64.btoa(r+":"+t)}}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}))}},164:function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"mainHeaderHeight",(function(){return C})),r.d(n,"secondaryHeaderHeight",(function(){return S}));var a,o=r(0),i=r.n(o),c=r(47),s=r(140),u=r(96),l=r(36),d=r.n(l),g=r(4),f=r(33),p=r(13),b=r(17),h=r(235),v=r(163),y=r(11),O=r(45),m=r(55),w=r(37),E=r(110),j="#000000",P="#ffffff",x="#990000",D={textColor:"#9f6000",backgroundColor:"#feefb3"},I={textColor:"#d8000c",backgroundColor:"#ffd2d2"};!function(e){e.stretch="stretch",e.center="center",e.flexStart="flex-start",e.flexEnd="flex-end",e.baseline="baseline"}(a||(a={}));a.center,a.flexStart,a.center,a.flexStart;var C=55,S=50,k=r(28),L=r.n(k),A=r(100),M=y.a.create({containerDiv:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",paddingTop:50},logoDiv:{marginBottom:10},logoImg:{height:80,resizeMode:"contain",width:120},username:{width:200,height:40,borderColor:"gray",borderWidth:1,padding:5,marginBottom:10},password:{width:200,height:40,borderColor:"gray",borderWidth:1,padding:5,marginBottom:10},errorMsg:{color:I.textColor}}),G=function(e){var t=function(e){var t=i.a.useState(""),r=d()(t,2),n=r[0],a=r[1],o=i.a.useState(""),c=d()(o,2),s=c[0],u=c[1],l=i.a.useState(""),g=d()(l,2),f=g[0],p=g[1],b=i.a.useState(!1),h=d()(b,2),v=h[0],y=h[1],O=i.a.useCallback((function(){var t;return L.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n||!s){r.next=10;break}return y(!0),p(""),r.next=5,L.a.awrap(Object(A.login)({username:n,password:s}));case 5:t=r.sent,y(!1),t&&!t.error?e(t):p(t.error_description||"Incorrect username/password!"),r.next=11;break;case 10:p("Incorrect username/password!");case 11:case"end":return r.stop()}}))}),[n,s]);return{username:n,onChangeUsername:a,password:s,onChangePassword:u,errorMsg:f,setErrorMsg:p,isLoading:v,setIsLoading:y,handleLogin:O}}((function(t){e.reduxLogin({payload:t,isLoggedIn:!0})})),n=t.username,a=t.onChangeUsername,o=t.password,c=t.onChangePassword,s=t.errorMsg,u=void 0===s?"":s,l=t.isLoading,f=t.handleLogin;return i.a.createElement(g.a,{style:M.containerDiv},i.a.createElement(g.a,{style:M.logoDiv},i.a.createElement(m.a,{style:M.logoImg,source:r(218)})),i.a.createElement(g.a,null,i.a.createElement(w.a,{style:M.errorMsg},u)),i.a.createElement(g.a,null,i.a.createElement(O.a,{style:M.username,onChangeText:function(e){return a(e)},placeholder:"Username",value:n})),i.a.createElement(g.a,null,i.a.createElement(O.a,{style:M.password,onChangeText:function(e){return c(e)},placeholder:"********",value:o,secureTextEntry:!0})),i.a.createElement(g.a,null,l?i.a.createElement(E.a,{size:"large",color:D.textColor}):i.a.createElement(v.a,{title:"Login",onPress:f})))};G.navigationOptions={headerMode:"none",navigationOptions:{headerVisible:!1},headerStyle:{display:"none"}};var T=Object(c.b)((function(e){return{loggedIn:e.authReducer.loggedIn}}),(function(e){return{reduxLogin:function(t){return e({type:"LOGGED_IN",payload:t})}}}))(G),_=r(12),B=r.n(_),H=r(44),R=r(65),z=Math.round(f.a.get("window").width),W=y.a.create({text:{color:P,fontSize:z<550?21:16}}),N=function(e){var t=e.ref,r=void 0===t?null:t,n=e.customStyles;return i.a.createElement(w.a,{ref:r,style:[W.text,n]},e.children)},V=y.a.create({button:{backgroundColor:j,height:"100%",padding:15,borderBottomColor:j,borderBottomWidth:2},activeButton:{backgroundColor:j,height:"100%",padding:15,borderBottomColor:x,borderBottomWidth:2},buttonText:{color:P,margin:"auto"}}),F=function(e){var t=e.active,r=void 0!==t&&t,n=e.onPress,a=void 0===n?function(){}:n,o=e.style,c=void 0===o?V:o;return i.a.createElement(g.a,null,i.a.createElement(R.a,{style:r?c.activeButton:c.button,onPress:a},i.a.createElement(N,{customStyles:c.buttonText},e.children)))},J=y.a.create({view:{width:"100%",marginTop:100,marginBottom:0,marginRight:"auto",marginLeft:"auto"}}),U=function(e){var t=e.style,r=void 0===t?J:t,n=e.size,a=void 0===n?"small":n,o=e.text,c=void 0===o?"Loading...":o,s=e.color,u=void 0===s?P:s,l="small"===a?12:42;return i.a.createElement(g.a,{style:r.view},i.a.createElement(E.a,{size:a,color:u}),i.a.createElement(w.a,{style:{color:P,fontSize:l,textAlign:"center"}},c))};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){B()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Q=n.mainHeaderHeight,X=y.a.create({imageRow:{height:Q,flexDirection:"row",marginRight:62}}),Y=Object(c.b)((function(e){return{loggedIn:e.authReducer,deviceInfo:e.deviceInfo}}),(function(e){return{reduxLogin:function(t){return e({type:"LOGGED_IN",payload:t})}}}))((function(e){var t=e.page,r=e.navigate,n=e.deviceInfo,a=e.useScrollView,o=void 0===a||a,c=e.isLoading,s=void 0!==c&&c,u=i.a.useCallback((function(){e.reduxLogin(K({},{},{isLoggedIn:!1}))}),[]),l=i.a.useCallback((function(){e.reduxActivePage({page:"Dashboard"}),r("Dashboard",{})}),[]),d=i.a.useCallback((function(){e.reduxActivePage({page:"MyAccount"}),r("MyAccount",{})}),[]),f=i.a.useCallback((function(){r("support",{})}),[]),b=i.a.useCallback((function(){r("notes",{})}),[]),h=i.a.useCallback((function(){r("techsupport",{})}),[]),v="web"===p.a.OS?{height:n.screenHeight-(s?0:Q)}:{minHeight:n.screenHeight-(s?0:Q)};return i.a.createElement(i.a.Fragment,null,!s&&i.a.createElement(g.a,{style:{backgroundColor:j,display:"flex",height:"auto",width:"100%",marginTop:"web"===p.a.OS?0:30}},i.a.createElement(H.a,{horizontal:!0,snapToStart:!0,showsHorizontalScrollIndicator:!1},i.a.createElement(g.a,{style:X.imageRow},i.a.createElement(F,{onPress:l,active:"Dashboard"===t},"Dashboard"),i.a.createElement(F,{onPress:d,active:"MyAccount"===t},"Create Listings"),i.a.createElement(F,{onPress:f,active:"support"===t},"Admin"),i.a.createElement(F,{onPress:b,active:"notes"===t},"Alerts"),i.a.createElement(F,{onPress:h,active:"techsupport"===t},"Settings"),i.a.createElement(F,{onPress:u},"Logout")))),o?i.a.createElement(H.a,{contentContainerStyle:K({backgroundColor:j,flexGrow:1},v)},e.children):i.a.createElement(g.a,{style:K({backgroundColor:j,flexGrow:1},v)},e.children))})),Z=function(e){var t=e.navigation.navigate,r=i.a.useState(!1),n=d()(r,2),a=n[0];n[1];return i.a.createElement(Y,{page:"Dashboard",navigate:t,reduxActivePage:e.reduxActivePage,isLoading:a},!a&&i.a.createElement(g.a,{style:{display:"flex",flexDirection:"column",flexWrap:"wrap",alignItems:"stretch",justifyContent:"center",padding:50}},i.a.createElement(N,null,"Dashboard Page")),a&&i.a.createElement(U,{size:"large"}))};Z.navigationOptions={headerMode:"none",navigationOptions:{headerVisible:!1},headerStyle:{display:"none"}};var $=Object(c.b)((function(e){return{loggedIn:e.authReducer}}),(function(e){return{reduxActivePage:function(t){return e({type:"ACTIVE_PAGE",payload:t})}}}))(Z),ee=function(e){var t=e.navigation.navigate;return i.a.createElement(Y,{page:"MyAccount",navigate:t,reduxActivePage:e.reduxActivePage},i.a.createElement(g.a,{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"stretch",justifyContent:"center",padding:50}},i.a.createElement(N,null,"Create Listings Page")))};ee.navigationOptions={headerMode:"none",navigationOptions:{headerVisible:!1},headerStyle:{display:"none"}};var te=Object(c.b)((function(e){return{loggedIn:e.authReducer}}),(function(e){return{reduxActivePage:function(t){return e({type:"ACTIVE_PAGE",payload:t})}}}))(ee),re=Object(h.a)({Login:{screen:T},Dashboard:{screen:$},MyAccount:{screen:te}}),ne=Object(b.createAppContainer)(re),ae=Object(c.b)((function(e){return{loggedIn:e.authReducer,activePage:e.activePage}}),(function(e){return{reduxDeviceInfo:function(t){return e({type:"DEVICE_INFO",payload:t})}}}))((function(e){var t=Object(o.useState)("Login"),r=d()(t,2),n=r[0],a=r[1],c=function(){var t=Math.round(f.a.get("window").width),r=Math.round(f.a.get("window").height);e.reduxDeviceInfo({screenWidth:t,screenHeight:r})};return i.a.useEffect((function(){c(),f.a.addEventListener("change",(function(){c()}))}),[]),i.a.useEffect((function(){e&&e.loggedIn&&e.loggedIn.isLoggedIn?a(e.activePage.page||"Dashboard"):a("Login")}),[e.loggedIn,e.activePage]),i.a.createElement(g.a,{style:{display:"flex",flex:1,height:"100%",backgroundColor:"web"===p.a.OS?P:j}},i.a.createElement(ne,{ref:function(e){e&&e.dispatch(b.NavigationActions.navigate({routeName:n}))}}))}));t.a=function(){return i.a.createElement(c.a,{store:u.b},i.a.createElement(s.a,{loading:null,persistor:u.a},i.a.createElement(ae,null)))}},166:function(e,t,r){r(167),e.exports=r(222)},167:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},218:function(e,t,r){e.exports=r.p+"static/media/logo.b1a18214.png"},96:function(e,t,r){"use strict";var n=r(142),a=r(50),o=r(141),i=(r(175),r(130)),c=r(12),s=r.n(c);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={isLoggedIn:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN":return l({},e,{},t.payload);default:return e}};function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b={screenWidth:0,screenHeight:0},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DEVICE_INFO":return p({},e,{},t.payload);default:return e}};function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O={page:"Dashboard"},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVE_PAGE":return y({},e,{},t.payload);default:return e}},w=Object(a.c)({authReducer:g,deviceInfo:h,activePage:m});r.d(t,"b",(function(){return x})),r.d(t,"a",(function(){return D}));var E=[o.a];var j={key:"root",storage:n.a,whitelist:["authReducer"]},P=Object(i.a)(j,w),x=Object(a.d)(P,a.a.apply(void 0,E)),D=Object(i.b)(x)}},[[166,1,2]]]);
//# sourceMappingURL=../../e85f0663fefc4ac0d89c.map